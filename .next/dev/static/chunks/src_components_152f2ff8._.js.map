{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/moaye_kelly/WebstormProjects/Animania/src/components/SearchBar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useRef, useState } from \"react\";\n\ninterface SearchResult {\n  id: string;\n  title: string;\n  category: string;\n  imageUrl: string | null;\n}\n\nexport default function SearchBar() {\n  const [query, setQuery] = useState(\"\");\n  const [suggestions, setSuggestions] = useState<SearchResult[]>([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const router = useRouter();\n  const searchRef = useRef<HTMLDivElement>(null);\n\n  // Fermer les suggestions si on clique en dehors\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        searchRef.current &&\n        !searchRef.current.contains(event.target as Node)\n      ) {\n        setShowSuggestions(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  // R√©cup√©rer les suggestions en temps r√©el\n  useEffect(() => {\n    const fetchSuggestions = async () => {\n      if (query.trim().length < 2) {\n        setSuggestions([]);\n        return;\n      }\n\n      setLoading(true);\n      try {\n        const response = await fetch(\n          `/api/search?q=${encodeURIComponent(query)}`\n        );\n        if (response.ok) {\n          const data = await response.json();\n          setSuggestions(data.posts.slice(0, 5)); // Limiter √† 5 suggestions\n          setShowSuggestions(true);\n        }\n      } catch (error) {\n        console.error(\"Erreur lors de la r√©cup√©ration des suggestions:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Debounce: attendre 300ms apr√®s la derni√®re saisie\n    const timeoutId = setTimeout(fetchSuggestions, 300);\n    return () => clearTimeout(timeoutId);\n  }, [query]);\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (query.trim()) {\n      setShowSuggestions(false);\n      router.push(`/search?q=${encodeURIComponent(query)}`);\n    }\n  };\n\n  const handleSuggestionClick = (postId: string) => {\n    setShowSuggestions(false);\n    setQuery(\"\");\n    router.push(`/articles/${postId}`);\n  };\n\n  const getCategoryEmoji = (category: string) => {\n    const emojis: { [key: string]: string } = {\n      TERRESTRES: \"ü¶Å\",\n      MARINS: \"üêã\",\n      AERIENS: \"ü¶Ö\",\n      EAU_DOUCE: \"üê∏\",\n    };\n    return emojis[category] || \"üìÑ\";\n  };\n\n  return (\n    <div ref={searchRef} className=\"relative w-full max-w-2xl\">\n      <form onSubmit={handleSearch} className=\"relative\">\n        <input\n          type=\"text\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          placeholder=\"Rechercher des articles...\"\n          className=\"w-full rounded-full border-2 border-gray-300 px-6 py-3 pr-12 text-gray-900 transition-all duration-300 placeholder:text-gray-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n        <button\n          type=\"submit\"\n          className=\"absolute right-2 top-1/2 -translate-y-1/2 rounded-full bg-blue-600 p-2 text-white transition-colors hover:bg-blue-700\"\n        >\n          <svg\n            className=\"size-5\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n            />\n          </svg>\n        </button>\n      </form>\n\n      {/* Liste des suggestions */}\n      {showSuggestions && (suggestions.length > 0 || loading) && (\n        <div className=\"absolute z-50 mt-2 w-full rounded-lg border border-gray-200 bg-white shadow-xl\">\n          {loading ? (\n            <div className=\"flex items-center justify-center p-4\">\n              <div className=\"size-6 animate-spin rounded-full border-b-2 border-blue-600\"></div>\n            </div>\n          ) : (\n            <ul className=\"max-h-96 overflow-y-auto\">\n              {suggestions.map((post) => (\n                <li\n                  key={post.id}\n                  onClick={() => handleSuggestionClick(post.id)}\n                  className=\"flex cursor-pointer items-center gap-3 border-b border-gray-100 p-3 transition-colors last:border-b-0 hover:bg-gray-50\"\n                >\n                  {post.imageUrl ? (\n                    <img\n                      src={post.imageUrl}\n                      alt={post.title}\n                      className=\"size-12 rounded-lg object-cover\"\n                    />\n                  ) : (\n                    <div className=\"flex size-12 items-center justify-center rounded-lg bg-gray-100\">\n                      <span className=\"text-2xl\">\n                        {getCategoryEmoji(post.category)}\n                      </span>\n                    </div>\n                  )}\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium text-gray-900\">{post.title}</p>\n                    <p className=\"text-sm text-gray-500\">\n                      {getCategoryEmoji(post.category)} {post.category}\n                    </p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///Users/moaye_kelly/WebstormProjects/Animania/src/components/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport { jwtDecode } from \"jwt-decode\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport SearchBar from \"./SearchBar\";\n\ninterface HeaderProps {\n  className?: string;\n}\n\n// Ajouter cette interface\ninterface DecodedToken {\n  exp: number;\n}\n\n// Ajouter cette interface pour d√©finir la structure du menu\ninterface MenuItem {\n  name: string;\n  href: string;\n  subMenu?: {\n    name: string;\n    href: string;\n  }[];\n}\n\nexport default function Header({ className }: HeaderProps) {\n  const [isClient, setIsClient] = useState(false);\n  const [activeSubMenu, setActiveSubMenu] = useState<string | null>(null);\n  const [lastClickTime, setLastClickTime] = useState(0);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const pathname = usePathname();\n\n  useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  // Gestionnaire de clic √† l'ext√©rieur am√©lior√©\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      if (\n        !target.closest('[role=\"menu\"]') &&\n        !target.closest('[aria-haspopup=\"true\"]')\n      ) {\n        setActiveSubMenu(null);\n        setLastClickTime(0);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const handleMenuClick = (e: React.MouseEvent, link: MenuItem) => {\n    e.preventDefault();\n    const currentTime = new Date().getTime();\n\n    if (!link.subMenu) {\n      window.location.href = link.href;\n      return;\n    }\n\n    // Double-clic d√©tection (300ms d'intervalle)\n    if (currentTime - lastClickTime < 300 && activeSubMenu === link.name) {\n      // Navigation sur double-clic rapide\n      window.location.href = link.href;\n      setActiveSubMenu(null);\n    } else if (activeSubMenu === link.name) {\n      // Simple clic sur menu ouvert : fermer le menu\n      setActiveSubMenu(null);\n    } else {\n      // Simple clic sur menu ferm√© : ouvrir le menu\n      setActiveSubMenu(link.name);\n    }\n\n    setLastClickTime(currentTime);\n  };\n\n  // Fonction pour v√©rifier si le token est valide\n  const isTokenValid = () => {\n    if (!isClient) return false;\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      try {\n        const decodedToken: DecodedToken = jwtDecode(token);\n        const currentTime = Math.floor(Date.now() / 1000);\n        return decodedToken.exp > currentTime;\n      } catch {\n        return false;\n      }\n    }\n    return false;\n  };\n\n  const userName = isClient ? localStorage.getItem(\"userName\") : null;\n\n  // V√©rification de l'√©tat de l'authentification\n  const isAuthenticated = isTokenValid();\n\n  const menu_navigation = [\n    {\n      name: \"Accueil\",\n      href: \"/\",\n    },\n    {\n      name: \"A propos\",\n      href: \"/a-propos\",\n      subMenu: [\n        {\n          name: \"Qui sommes-nous\",\n          href: \"/a-propos/qui-sommes-nous\",\n        },\n        {\n          name: \"Notre √©quipe\",\n          href: \"/a-propos/notre-equipe\",\n        },\n        {\n          name: \"Nous contacter\",\n          href: \"/a-propos/contact\",\n        },\n      ],\n    },\n    {\n      name: \"Articles\",\n      href: \"/articles\",\n      subMenu: [\n        {\n          name: \"Toutes les cat√©gories\",\n          href: \"/articles\",\n        },\n        {\n          name: \"Animaux Marins\",\n          href: \"/articles/animaux-marins\",\n        },\n        {\n          name: \"Animaux Terrestres\",\n          href: \"/articles/animaux-terrestres\",\n        },\n        {\n          name: \"Animaux A√©riens  \",\n          href: \"/articles/animaux-aerien\",\n        },\n        {\n          name: \"Animaux d'eau douce\",\n          href: \"/articles/animaux-d-eau-douce\",\n        },\n      ],\n    },\n    {\n      name: \"Galerie\",\n      href: \"/galerie\",\n    },\n  ];\n\n  // Fonction de d√©connexion\n  const handleLogout = () => {\n    localStorage.removeItem(\"userName\");\n    localStorage.removeItem(\"token\");\n    window.location.reload(); // Recharger la page pour mettre √† jour l'interface\n  };\n\n  const isActivePath = (href: string) => {\n    if (href === \"/\") {\n      return pathname === href;\n    }\n    return pathname.startsWith(href);\n  };\n\n  return (\n    <header\n      className={`my-4 flex items-center gap-2 rounded-lg border bg-gradient-to-r from-green-400 to-green-600 shadow-xl ${className} mx-4 px-3 transition-all duration-300 lg:mx-24`}\n    >\n      <div className=\"container mx-auto flex items-center justify-between py-4\">\n        {/* Section gauche avec logo */}\n        <div className=\"flex items-center space-x-4\">\n          <Link href=\"/\">\n            <Image\n              src=\"/images/logo_rbg.png\"\n              width={90}\n              height={90}\n              alt=\"logo = image d'un chien et d'un chat\"\n              className=\"rounded-full border-2 border-white bg-white shadow-lg transition-transform duration-300 hover:scale-105\"\n            />\n          </Link>\n\n          {/* Bouton hamburger pour mobile - ajout√© ici pour garder la structure originale */}\n          <button\n            className=\"p-2 text-white transition-colors hover:text-amber-200 md:hidden\"\n            onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n            aria-label=\"Toggle menu\"\n          >\n            <svg\n              className=\"size-6\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d={\n                  isMobileMenuOpen\n                    ? \"M6 18L18 6M6 6l12 12\"\n                    : \"M4 6h16M4 12h16M4 18h16\"\n                }\n              />\n            </svg>\n          </button>\n\n          <nav aria-label=\"Navigation principale\">\n            <ul className=\"ml-8 hidden flex-row space-x-12 md:flex\">\n              {/* Ajout de ml-4 pour d√©caler le menu vers le centre */}\n              {menu_navigation.map((link) => (\n                <li key={link.name} className=\"group relative\">\n                  <Link\n                    href={link.href}\n                    className={`\n                      relative z-10 flex items-center gap-1 \n                      px-3 py-1 text-white duration-300 \n                      after:absolute after:inset-x-0 after:-bottom-2 \n                      after:h-1 after:origin-left after:bg-amber-700 \n                      after:transition-transform after:content-[''] hover:text-amber-700\n                      ${\n                        isActivePath(link.href)\n                          ? \"text-amber-400 after:scale-x-100\"\n                          : \"after:scale-x-0 group-hover:after:scale-x-100\"\n                      }\n                    `}\n                    onClick={(e) => link.subMenu && handleMenuClick(e, link)}\n                    aria-expanded={activeSubMenu === link.name}\n                    aria-haspopup={!!link.subMenu}\n                  >\n                    {link.name}\n                    {link.subMenu && (\n                      <span\n                        className={`ml-0.5 text-[10px] transition-all duration-200 ${\n                          activeSubMenu === link.name ? \"-rotate-180\" : \"\"\n                        }`}\n                        aria-hidden=\"true\"\n                      >\n                        ‚ñº\n                      </span>\n                    )}\n                  </Link>\n                  {link.subMenu && activeSubMenu === link.name && (\n                    <div\n                      className={`\n                        animate-dropdownFade absolute left-0 z-50 mt-4 w-64 origin-top-left rounded-lg\n                        border-t-2 border-amber-500/50 bg-white/95 py-2 shadow-lg backdrop-blur-sm \n                        transition-all duration-200 ease-out\n                      `}\n                      style={{\n                        marginTop: \"1.25rem\",\n                        boxShadow:\n                          \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n                      }}\n                      role=\"menu\"\n                      aria-orientation=\"vertical\"\n                      aria-labelledby={`${link.name}-menu`}\n                    >\n                      <div className=\"absolute left-0 top-0 h-4 w-full -translate-y-full bg-transparent\" />\n                      {link.subMenu.map((subLink, index) => (\n                        <Link\n                          key={subLink.name}\n                          href={subLink.href}\n                          className={`\n                            group/item relative block px-5 py-3 text-gray-600 \n                            transition-all duration-200 hover:bg-amber-50/80 hover:text-amber-700\n                            ${index === 0 ? \"rounded-t-lg\" : \"\"}\n                            ${\n                              index === link.subMenu.length - 1\n                                ? \"rounded-b-lg\"\n                                : \"\"\n                            }\n                          `}\n                          role=\"menuitem\"\n                          onClick={() => {\n                            setActiveSubMenu(null);\n                            setLastClickTime(0);\n                          }}\n                        >\n                          <span className=\"relative flex items-center\">\n                            <span className=\"absolute left-0 h-full w-0.5 scale-y-0 bg-amber-500 transition-transform duration-200 group-hover/item:scale-y-100\" />\n                            <span className=\"relative pl-3\">\n                              {subLink.name}\n                            </span>\n                          </span>\n                        </Link>\n                      ))}\n                    </div>\n                  )}\n                </li>\n              ))}\n            </ul>\n          </nav>\n        </div>\n\n        {/* Barre de recherche et utilisateur */}\n        <div className=\"flex items-center space-x-4\">\n          {isAuthenticated ? (\n            <>\n              <div className=\"group relative\">\n                <button\n                  className=\"flex items-center gap-2 font-semibold text-white transition-colors duration-200 hover:text-amber-200\"\n                  aria-haspopup=\"true\"\n                  aria-expanded={activeSubMenu === \"userMenu\"}\n                  onClick={(e) => {\n                    e.preventDefault();\n                    setActiveSubMenu(\n                      activeSubMenu === \"userMenu\" ? null : \"userMenu\"\n                    );\n                  }}\n                >\n                  <span className=\"hidden sm:inline\">{`Bonjour, ${userName}`}</span>\n                  <span className=\"sm:hidden\">üë§</span>\n                  <span\n                    className={`text-[10px] transition-transform duration-200 ${\n                      activeSubMenu === \"userMenu\" ? \"rotate-180\" : \"\"\n                    }`}\n                  >\n                    ‚ñº\n                  </span>\n                </button>\n\n                {activeSubMenu === \"userMenu\" && (\n                  <div\n                    className=\"animate-dropdownFade absolute right-0 z-50 mt-2 w-56 origin-top-right rounded-lg border-t-2\n                      border-amber-500/50 bg-white/95 py-2 shadow-lg backdrop-blur-sm transition-all \n                      duration-200 ease-out\"\n                    role=\"menu\"\n                  >\n                    <Link\n                      href=\"/profil\"\n                      className=\"flex items-center px-4 py-2 text-gray-700 transition-colors duration-200 hover:bg-amber-50 hover:text-amber-700\"\n                      role=\"menuitem\"\n                    >\n                      <svg\n                        className=\"mr-3 size-5\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth=\"2\"\n                          d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                        />\n                      </svg>\n                      Mon Profil\n                    </Link>\n                    <Link\n                      href=\"/profil/formulaire_post\"\n                      className=\"flex items-center px-4 py-2 text-gray-700 transition-colors duration-200 hover:bg-amber-50 hover:text-amber-700\"\n                      role=\"menuitem\"\n                    >\n                      <svg\n                        className=\"mr-3 size-5\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth=\"2\"\n                          d=\"M12 4v16m8-8H4\"\n                        />\n                      </svg>\n                      Cr√©er un Post\n                    </Link>\n                    <div className=\"my-1 border-t border-gray-100\"></div>\n                    <button\n                      onClick={handleLogout}\n                      className=\"flex w-full items-center px-4 py-2 text-gray-700 transition-colors duration-200 hover:bg-amber-50 hover:text-amber-700\"\n                      role=\"menuitem\"\n                    >\n                      <svg\n                        className=\"mr-3 size-5\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth=\"2\"\n                          d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n                        />\n                      </svg>\n                      Se d√©connecter\n                    </button>\n                  </div>\n                )}\n              </div>\n            </>\n          ) : (\n            <Link\n              href=\"/connexion\"\n              className=\"rounded-lg bg-green-600 px-2 py-1 text-sm text-white shadow-md transition-all duration-300 hover:bg-green-200 hover:text-green-800 hover:shadow-lg sm:px-4 sm:py-2 sm:text-base\"\n            >\n              <span className=\"hidden sm:inline\">Se connecter</span>\n              <span className=\"sm:hidden\">üë§</span>\n            </Link>\n          )}\n          {/* Recherche */}\n          <div className=\"hidden md:block\">\n            <SearchBar />\n          </div>\n        </div>\n      </div>\n\n      {/* Menu mobile */}\n      {isMobileMenuOpen && (\n        <div className=\"absolute inset-x-0 top-full z-50 mt-2 rounded-lg border-t border-white/30 bg-gradient-to-r from-green-400 to-green-600 pb-4 shadow-lg md:hidden\">\n          {/* Barre de recherche mobile */}\n          <div className=\"p-4\">\n            <SearchBar />\n          </div>\n\n          <nav className=\"space-y-2 px-4\">\n            {menu_navigation.map((link) => (\n              <div key={link.name}>\n                <Link\n                  href={link.href}\n                  className=\"block py-2 font-medium text-white hover:text-amber-200\"\n                  onClick={() => setIsMobileMenuOpen(false)}\n                >\n                  {link.name}\n                </Link>\n                {/* Sous-menu mobile */}\n                {link.subMenu && (\n                  <div className=\"ml-4 space-y-1\">\n                    {link.subMenu.map((subLink) => (\n                      <Link\n                        key={subLink.name}\n                        href={subLink.href}\n                        className=\"block py-1 text-sm text-white/80 hover:text-amber-200\"\n                        onClick={() => setIsMobileMenuOpen(false)}\n                      >\n                        {subLink.name}\n                      </Link>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n\n            {/* Actions utilisateur mobile */}\n            {isAuthenticated && (\n              <div className=\"border-t border-white/30 pt-2\">\n                <Link\n                  href=\"/profil\"\n                  className=\"block py-2 font-medium text-white hover:text-amber-200\"\n                  onClick={() => setIsMobileMenuOpen(false)}\n                >\n                  Mon Profil\n                </Link>\n                <Link\n                  href=\"/profil/formulaire_post\"\n                  className=\"block py-2 font-medium text-white hover:text-amber-200\"\n                  onClick={() => setIsMobileMenuOpen(false)}\n                >\n                  Cr√©er un Post\n                </Link>\n                <button\n                  onClick={() => {\n                    handleLogout();\n                    setIsMobileMenuOpen(false);\n                  }}\n                  className=\"block py-2 font-medium text-white hover:text-amber-200\"\n                >\n                  Se d√©connecter\n                </button>\n              </div>\n            )}\n          </nav>\n        </div>\n      )}\n    </header>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 940, "column": 0}, "map": {"version":3,"sources":["file:///Users/moaye_kelly/WebstormProjects/Animania/src/components/ui/FormattedDate.tsx"],"sourcesContent":["\"use client\";\n\ninterface FormattedDateProps {\n  date: string;\n  format?: \"full\" | \"short\" | \"relative\";\n}\n\nexport default function FormattedDate({\n  date,\n  format = \"full\",\n}: FormattedDateProps) {\n  try {\n    const dateObj = new Date(date);\n\n    if (isNaN(dateObj.getTime())) {\n      return <span>Date invalide</span>;\n    }\n\n    const now = new Date();\n    const diffInSeconds = Math.floor(\n      (now.getTime() - dateObj.getTime()) / 1000\n    );\n\n    if (format === \"relative\") {\n      if (diffInSeconds < 60) return <span>Il y a quelques secondes</span>;\n      if (diffInSeconds < 3600)\n        return <span>Il y a {Math.floor(diffInSeconds / 60)} min</span>;\n      if (diffInSeconds < 86400)\n        return <span>Il y a {Math.floor(diffInSeconds / 3600)} h</span>;\n      if (diffInSeconds < 604800)\n        return <span>Il y a {Math.floor(diffInSeconds / 86400)} j</span>;\n    }\n\n    if (format === \"short\") {\n      return (\n        <time dateTime={dateObj.toISOString()}>\n          {dateObj.toLocaleDateString(\"fr-FR\", {\n            day: \"numeric\",\n            month: \"short\",\n            year: \"numeric\",\n          })}\n        </time>\n      );\n    }\n\n    // Format complet par d√©faut\n    return (\n      <time dateTime={dateObj.toISOString()}>\n        {dateObj.toLocaleDateString(\"fr-FR\", {\n          day: \"numeric\",\n          month: \"long\",\n          year: \"numeric\",\n          hour: \"2-digit\",\n          minute: \"2-digit\",\n        })}\n      </time>\n    );\n  } catch (error) {\n    console.error(\"Error formatting date:\", error);\n    return <span>Date invalide</span>;\n  }\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAOe,SAAS,cAAc,EACpC,IAAI,EACJ,SAAS,MAAM,EACI;IACnB,IAAI;QACF,MAAM,UAAU,IAAI,KAAK;QAEzB,IAAI,MAAM,QAAQ,OAAO,KAAK;YAC5B,qBAAO,6LAAC;0BAAK;;;;;;QACf;QAEA,MAAM,MAAM,IAAI;QAChB,MAAM,gBAAgB,KAAK,KAAK,CAC9B,CAAC,IAAI,OAAO,KAAK,QAAQ,OAAO,EAAE,IAAI;QAGxC,IAAI,WAAW,YAAY;YACzB,IAAI,gBAAgB,IAAI,qBAAO,6LAAC;0BAAK;;;;;;YACrC,IAAI,gBAAgB,MAClB,qBAAO,6LAAC;;oBAAK;oBAAQ,KAAK,KAAK,CAAC,gBAAgB;oBAAI;;;;;;;YACtD,IAAI,gBAAgB,OAClB,qBAAO,6LAAC;;oBAAK;oBAAQ,KAAK,KAAK,CAAC,gBAAgB;oBAAM;;;;;;;YACxD,IAAI,gBAAgB,QAClB,qBAAO,6LAAC;;oBAAK;oBAAQ,KAAK,KAAK,CAAC,gBAAgB;oBAAO;;;;;;;QAC3D;QAEA,IAAI,WAAW,SAAS;YACtB,qBACE,6LAAC;gBAAK,UAAU,QAAQ,WAAW;0BAChC,QAAQ,kBAAkB,CAAC,SAAS;oBACnC,KAAK;oBACL,OAAO;oBACP,MAAM;gBACR;;;;;;QAGN;QAEA,4BAA4B;QAC5B,qBACE,6LAAC;YAAK,UAAU,QAAQ,WAAW;sBAChC,QAAQ,kBAAkB,CAAC,SAAS;gBACnC,KAAK;gBACL,OAAO;gBACP,MAAM;gBACN,MAAM;gBACN,QAAQ;YACV;;;;;;IAGN,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,qBAAO,6LAAC;sBAAK;;;;;;IACf;AACF;KAtDwB"}}]
}