{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/moaye_kelly/WebstormProjects/Animania/src/hooks/useAuth.ts"],"sourcesContent":["\"use client\";\n\ninterface User {\n  name: string;\n  email: string;\n}\n\nexport function useAuth() {\n  const getToken = () => {\n    if (typeof window !== \"undefined\") {\n      return localStorage.getItem(\"token\");\n    }\n    return null;\n  };\n\n  const getUser = (): User | null => {\n    if (typeof window !== \"undefined\") {\n      const userStr = localStorage.getItem(\"user\");\n      try {\n        return userStr ? JSON.parse(userStr) : null;\n      } catch (error) {\n        console.error(\n          \"Erreur lors de la lecture des données utilisateur:\",\n          error\n        );\n        return null;\n      }\n    }\n    return null;\n  };\n\n  const login = (userData: User, token: string) => {\n    try {\n      localStorage.setItem(\"user\", JSON.stringify(userData));\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\"userName\", userData.name);\n    } catch (error) {\n      console.error(\"Erreur lors de la sauvegarde des données:\", error);\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"token\");\n  };\n\n  const isAuthenticated = () => {\n    return !!getToken() && !!getUser();\n  };\n\n  return {\n    login,\n    logout,\n    getToken,\n    getUser,\n    isAuthenticated,\n  };\n}\n"],"names":[],"mappings":";;;;AAAA;AAOO,SAAS;IACd,MAAM,WAAW;QACf;;QAGA,OAAO;IACT;IAEA,MAAM,UAAU;QACd;;QAYA,OAAO;IACT;IAEA,MAAM,QAAQ,CAAC,UAAgB;QAC7B,IAAI;YACF,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C,aAAa,OAAO,CAAC,SAAS;YAC9B,aAAa,OAAO,CAAC,YAAY,SAAS,IAAI;QAChD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6CAA6C;QAC7D;IACF;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC1B;IAEA,MAAM,kBAAkB;QACtB,OAAO,CAAC,CAAC,cAAc,CAAC,CAAC;IAC3B;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///Users/moaye_kelly/WebstormProjects/Animania/app/connexion/C_Footer.tsx"],"sourcesContent":["import React from \"react\";\nimport Link from \"next/link\";\n\ninterface NavLink {\n  name: string;\n  href: string;\n}\n\nexport default function C_Footer() {\n  const navLinks: NavLink[] = [\n    { name: \"Accueil\", href: \"/\" },\n    { name: \"À propos\", href: \"/a-propos\" },\n    { name: \"Contact\", href: \"/contact\" },\n  ];\n\n  return (\n    <footer className=\"absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/95 via-green-950/40 to-transparent backdrop-blur-sm\">\n      <div className=\"container mx-auto px-8 py-8\">\n        <div className=\"flex flex-col md:flex-row justify-between items-center space-y-6 md:space-y-0 border-t border-gray-100/10 pt-6\">\n          <div className=\"flex items-center space-x-6 md:pl-4\">\n            {navLinks.map((link) => (\n              <Link\n                key={link.name}\n                href={link.href}\n                className=\"text-gray-100 hover:text-white transition-colors duration-200 text-sm hover:scale-105 transform\"\n              >\n                {link.name}\n              </Link>\n            ))}\n          </div>\n          <div className=\"flex-1 flex justify-center\">\n            <div className=\"flex items-center space-x-10\">\n              <a\n                href=\"#\"\n                className=\"text-gray-100 hover:text-white transition-all duration-200 transform hover:scale-110 hover:rotate-6\"\n                aria-label=\"Facebook\"\n              >\n                <i className=\"fab fa-facebook text-xl\"></i>\n              </a>\n              <a\n                href=\"#\"\n                className=\"text-gray-100 hover:text-white transition-all duration-200 transform hover:scale-110 hover:-rotate-6\"\n                aria-label=\"Twitter\"\n              >\n                <i className=\"fab fa-twitter text-xl\"></i>\n              </a>\n              <a\n                href=\"#\"\n                className=\"text-gray-100 hover:text-white transition-all duration-200 transform hover:scale-110 hover:rotate-6\"\n                aria-label=\"Instagram\"\n              >\n                <i className=\"fab fa-instagram text-xl\"></i>\n              </a>\n            </div>\n          </div>\n          <div className=\"text-gray-100/80 text-sm font-light tracking-wider md:pr-4\">\n            © 2024 Animania. Tous droits réservés.\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAOe,SAAS;IACtB,MAAM,WAAsB;QAC1B;YAAE,MAAM;YAAW,MAAM;QAAI;QAC7B;YAAE,MAAM;YAAY,MAAM;QAAY;QACtC;YAAE,MAAM;YAAW,MAAM;QAAW;KACrC;IAED,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAC,qBACb,8OAAC,uKAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WAAU;0CAET,KAAK,IAAI;+BAJL,KAAK,IAAI;;;;;;;;;;kCAQpB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,WAAU;oCACV,cAAW;8CAEX,cAAA,8OAAC;wCAAE,WAAU;;;;;;;;;;;8CAEf,8OAAC;oCACC,MAAK;oCACL,WAAU;oCACV,cAAW;8CAEX,cAAA,8OAAC;wCAAE,WAAU;;;;;;;;;;;8CAEf,8OAAC;oCACC,MAAK;oCACL,WAAU;oCACV,cAAW;8CAEX,cAAA,8OAAC;wCAAE,WAAU;;;;;;;;;;;;;;;;;;;;;;kCAInB,8OAAC;wBAAI,WAAU;kCAA6D;;;;;;;;;;;;;;;;;;;;;;AAOtF"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///Users/moaye_kelly/WebstormProjects/Animania/app/connexion/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuth } from \"@/src/hooks/useAuth\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { useState } from \"react\";\nimport C_Footer from \"./C_Footer\";\n\nexport default function Connexion() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const returnUrl = searchParams.get(\"returnUrl\") || \"/\";\n  const { login } = useAuth();\n\n  const togglePasswordVisibility = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n    setError(\"\");\n\n    try {\n      const response = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ email, password }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        setError(data.message);\n      } else {\n        if (!data.user?.name || !data.token) {\n          throw new Error(\"Données de connexion invalides\");\n        }\n\n        const userData = {\n          name: data.user.name,\n          email: data.user.email,\n        };\n\n        login(userData, data.token);\n        setSuccess(`Bonjour, ${userData.name} !`);\n        router.push(decodeURIComponent(returnUrl));\n      }\n    } catch (error) {\n      console.error(\"Erreur lors de la soumission:\", error);\n      setError(\"Une erreur est survenue. Veuillez réessayer.\");\n    }\n  };\n\n  return (\n    <div>\n      <main className=\"relative flex min-h-screen flex-col items-center justify-center py-12\">\n        <video\n          src=\"/videos/2_chiots.mp4\"\n          autoPlay\n          muted\n          loop\n          className=\"fixed left-0 top-0 z-[-1] size-full object-cover\"\n        />\n        <div className=\"fixed left-0 top-0 z-[-1] size-full bg-gradient-to-b from-black/80 via-black/60 to-green-900/40\" />\n\n        <div className=\"relative z-10 w-[90%] max-w-md rounded-3xl border border-green-200/20 bg-white/10 p-6 shadow-2xl backdrop-blur-md md:p-10\">\n          <h2 className=\"mb-6 text-center text-2xl font-bold text-green-100 md:mb-8 md:text-3xl\">\n            Connexion\n          </h2>\n          {error && (\n            <div className=\"mb-4 rounded-xl border border-red-400/50 bg-red-500/20 p-3 text-red-200 backdrop-blur-sm\">\n              {error}\n            </div>\n          )}\n          {success && (\n            <div className=\"mb-4 rounded-xl border border-green-400/50 bg-green-500/20 p-3 text-green-200 backdrop-blur-sm\">\n              {success}\n            </div>\n          )}\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\n            <div>\n              <label\n                htmlFor=\"email\"\n                className=\"mb-1.5 block text-sm font-medium text-green-200\"\n              >\n                Email\n              </label>\n              <input\n                type=\"email\"\n                id=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"votre@email.com\"\n                required\n                className=\"mt-1 block w-full rounded-xl border border-green-200/20 bg-white/10 px-3 py-2.5 text-sm text-green-100 transition-all duration-200 placeholder:text-green-300/50 focus:border-green-400 focus:ring-2 focus:ring-green-300/40\"\n              />\n            </div>\n            <div>\n              <label\n                htmlFor=\"password\"\n                className=\"mb-1.5 block text-sm font-medium text-green-200\"\n              >\n                Mot de passe\n              </label>\n              <div className=\"relative\">\n                <input\n                  type={showPassword ? \"text\" : \"password\"}\n                  id=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"••••••••\"\n                  required\n                  className=\"mt-1 block w-full rounded-xl border border-green-200/20 bg-white/10 px-3 py-2.5 text-sm text-green-100 transition-all duration-200 placeholder:text-green-300/50 focus:border-green-400 focus:ring-2 focus:ring-green-300/40\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={togglePasswordVisibility}\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-green-100 transition-colors duration-200 hover:text-green-400\"\n                >\n                  <i\n                    className={`fas ${\n                      showPassword ? \"fa-eye-slash\" : \"fa-eye\"\n                    }`}\n                  ></i>\n                </button>\n              </div>\n            </div>\n            <button\n              type=\"submit\"\n              className=\"mt-6 w-full rounded-xl bg-gradient-to-r from-green-500 to-green-700 py-2.5 text-sm font-medium text-white transition-all duration-200 hover:scale-[1.02] hover:from-green-600 hover:to-green-800\"\n            >\n              Se connecter\n            </button>\n            <div className=\"mt-20 text-center text-green-200\">\n              <div className=\"mb-6 flex items-center\">\n                <div className=\"grow border-t border-green-200/30\" />\n                <span className=\"mx-4 text-sm\">Pas encore de compte ?</span>\n                <div className=\"grow border-t border-green-200/30\" />\n              </div>\n              <button\n                onClick={(event) => {\n                  event.preventDefault();\n                  router.push(\"/formulaire_inscription\");\n                }}\n                className=\"w-full rounded-xl border-2 border-green-200/20 py-2.5 text-sm font-medium text-white transition-all duration-200 hover:bg-green-200/20\"\n              >\n                S'inscrire\n              </button>\n            </div>\n          </form>\n        </div>\n\n        <C_Footer />\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}